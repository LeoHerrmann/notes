(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},9:function(t,e,n){"use strict";n.r(e);var s=n(6),i=n(2),o=n(3),r=n(5),a=n(4),c=n(1),l=n.n(c),u=n(8),d=n.n(u),h=(n(14),n(15),n(0)),p=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t){var s;return Object(i.a)(this,n),(s=e.call(this,t)).toggleSortingMenu=function(){s.state.sortingMenuVisible?s.setState({sortingMenuVisible:!1}):s.setState({sortingMenuVisible:!0})},s.state={sortingMenuVisible:!1},s}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(t){!1===t.searchInputVisible&&!0===this.props.searchInputVisible&&this.searchInput.focus()}},{key:"render",value:function(){var t,e=this;return"noteslist"===this.props.view&&this.props.searchInputVisible?t=Object(h.jsxs)("header",{className:"search_view",children:[Object(h.jsx)("button",{className:"icon-back",onClick:function(){return e.props.toggleSearchInput()}}),Object(h.jsx)("input",{type:"text",placeholder:"Search\u2026",ref:function(t){return e.searchInput=t},onChange:function(t){e.props.updateFilterString(t.target.value)}})]}):"noteslist"===this.props.view?t=Object(h.jsxs)("header",{className:"notes_list_view",children:[Object(h.jsx)("h1",{children:"Notes"}),Object(h.jsx)("button",{className:"icon-search",onClick:function(){return e.props.toggleSearchInput()},"aria-label":"search"}),Object(h.jsx)("button",{className:"icon-sort",onClick:function(){return e.toggleSortingMenu()},"aria-label":"sort"}),Object(h.jsx)(b,{sortBy:this.props.sortBy,changeSortBy:this.props.changeSortBy,visible:this.state.sortingMenuVisible,toggleVisibility:this.toggleSortingMenu})]}):"noteeditor"===this.props.view&&(t=Object(h.jsxs)("header",{className:"edit_view",children:[Object(h.jsx)("button",{className:"icon-back",onClick:this.props.closeEditor}),Object(h.jsx)("h1",{children:"Edit"})]})),Object(h.jsxs)("div",{children:[t,Object(h.jsx)("div",{className:"placeholder"})]})}}]),n}(l.a.Component),b=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this,e=null;if(this.props.visible){for(var n=[],s=function(){var e=o[i];n.push(Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{id:e+"_radio",type:"radio",name:"sortBy",value:e,checked:t.props.sortBy===e,onChange:function(){t.props.changeSortBy(e)}}),Object(h.jsx)("label",{htmlFor:e+"_radio",children:e.charAt(0).toUpperCase()+e.slice(1)})]},e+"_group"))},i=0,o=["title","created","lastModified"];i<o.length;i++)s();e=Object(h.jsxs)("div",{className:"sortingMenu",children:[Object(h.jsx)("div",{className:"overlay",onClick:function(){return t.props.toggleVisibility()}}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("div",{children:"Sort By"}),n]})]})}return e}}]),n}(l.a.Component),j=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t){var s;return Object(i.a)(this,n),(s=e.call(this,t)).hideMenu=function(){s.setState({menuVisible:!1,menuID:null})},s.state={menuVisible:!1,menuID:null},s}return Object(o.a)(n,[{key:"showMenu",value:function(t,e){t.preventDefault(),this.setState({menuVisible:!0,menuID:e})}},{key:"render",value:function(t){var e=this,n=Object(h.jsx)("div",{className:"placeholder_text",children:"No notes"}),i=JSON.parse(JSON.stringify(this.props.notes));if(i=i.filter((function(t){var n=t.title.toLowerCase().indexOf(e.props.searchWord)>=0,s=t.content.toLowerCase().indexOf(e.props.searchWord)>=0;return n||s})),"created"===this.props.sortBy?i=i.sort((function(t,e){return t.created<e.created?1:-1})):"lastModified"===this.props.sortBy?i=i.sort((function(t,e){return t.lastModified<e.lastModified?1:-1})):"title"===this.props.sortBy&&(i=i.sort((function(t,e){var n=t.title.toUpperCase(),s=e.title.toUpperCase();return n<s?-1:n>s?1:0}))),i.length>0){n=[];var o,r=Object(s.a)(i);try{var a=function(){var t=o.value;c="lastModified"===e.props.sortBy?"Last modified: "+new Date(t.lastModified).toLocaleString():"Created: "+new Date(t.created).toLocaleString(),n.push(Object(h.jsxs)("div",{className:"note",onClick:function(){return e.props.openNote(t.id)},onContextMenu:function(n){return e.showMenu(n,t.id)},children:[Object(h.jsx)("div",{className:"title",children:t.title}),Object(h.jsx)("div",{className:"date",children:c})]},t.id))};for(r.s();!(o=r.n()).done;){var c;a()}}catch(l){r.e(l)}finally{r.f()}}return Object(h.jsxs)("div",{className:"notes_list",children:[n,Object(h.jsx)(v,{visible:this.state.menuVisible,id:this.state.menuID,notes:this.props.notes,hide:this.hideMenu,deleteNote:this.props.deleteNote}),Object(h.jsx)("button",{className:"icon-add primary",onClick:this.props.createNote,"aria-label":"create"})]})}}]),n}(l.a.Component),v=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this,e=null;if(this.props.visible){var n,i,o=Object(s.a)(this.props.notes);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(r.id===this.props.id){n=r.title;break}}}catch(a){o.e(a)}finally{o.f()}e=Object(h.jsxs)("div",{className:"menu",children:[Object(h.jsx)("div",{className:"overlay",onClick:function(){return t.props.hide()}}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("h2",{children:n}),Object(h.jsxs)("div",{className:"text_negative",onClick:function(){t.props.deleteNote(t.props.id),t.props.hide()},children:[Object(h.jsx)("i",{className:"icon-delete"}),"Delete"]}),Object(h.jsxs)("div",{onClick:function(){return t.props.hide()},children:[Object(h.jsx)("i",{className:"icon-cancel"}),"Cancel"]})]})]})}return e}}]),n}(l.a.Component),f=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t){var s;return Object(i.a)(this,n),(s=e.call(this,t)).handleTitleChange=function(t){s.setState({noteToEdit:{id:s.state.noteToEdit.id,title:t.target.value,content:s.state.noteToEdit.content,created:s.state.noteToEdit.created}})},s.handleContentChange=function(t){s.setState({noteToEdit:{id:s.state.noteToEdit.id,title:s.state.noteToEdit.title,content:t.target.value,created:s.state.noteToEdit.created}})},s.state={noteToEdit:t.noteToEdit},s}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(){this.props.noteToEdit.id!==this.state.noteToEdit.id&&this.setState({noteToEdit:this.props.noteToEdit})}},{key:"render",value:function(t){var e=this;return this.props.noteToEdit.id?Object(h.jsxs)("div",{className:"note_editor",children:[Object(h.jsx)("input",{value:this.state.noteToEdit.title,onChange:this.handleTitleChange,placeholder:"Title",type:"text"}),Object(h.jsx)("textarea",{value:this.state.noteToEdit.content,onChange:this.handleContentChange,placeholder:"Content"}),Object(h.jsx)("button",{className:"save_note_button primary",onClick:function(){return e.props.saveNote({id:e.state.noteToEdit.id,title:e.state.noteToEdit.title,content:e.state.noteToEdit.content,created:e.state.noteToEdit.created,lastModified:(new Date).toJSON()})},children:"Save note"})]}):null}}]),n}(l.a.Component),O=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t){var s;Object(i.a)(this,n),(s=e.call(this,t)).state={idCounter:1,notes:[],editorID:null,sortBy:"created",searchInputVisible:!1,searchWord:""};var o=JSON.parse(localStorage.getItem("notesData"));return o&&(s.state.idCounter=o.idCounter,s.state.notes=o.notes,s.state.sortBy=o.sortBy),s}return Object(o.a)(n,[{key:"openNote",value:function(t){this.setState({editorID:t,searchInputVisible:!1,searchWord:""})}},{key:"createNote",value:function(){this.setState({editorID:this.state.idCounter,idCounter:this.state.idCounter+1})}},{key:"saveNote",value:function(t){var e=this,n=JSON.parse(JSON.stringify(t)),s=JSON.parse(JSON.stringify(this.state.notes)),i=!0;for(var o in s)if(s[o].id===n.id){s[o]=t,i=!1;break}i&&s.push(n),this.setState({notes:s},(function(){e.saveToLocalStorage()}))}},{key:"deleteNote",value:function(t){var e=this,n=JSON.parse(JSON.stringify(this.state.notes));for(var s in n)if(n[s].id===t){n.splice(s,1);break}this.setState({notes:n},(function(){e.saveToLocalStorage()}))}},{key:"saveToLocalStorage",value:function(){var t={notes:this.state.notes,idCounter:this.state.idCounter,sortBy:this.state.sortBy};localStorage.setItem("notesData",JSON.stringify(t))}},{key:"closeEditor",value:function(){this.setState({editorID:null})}},{key:"changeSortBy",value:function(t){var e=this;this.setState({sortBy:t},(function(){return e.saveToLocalStorage()}))}},{key:"toggleSearchInput",value:function(){!1===this.state.searchInputVisible?this.setState({searchInputVisible:!0}):this.setState({searchInputVisible:!1})}},{key:"updateFilterString",value:function(t){this.setState({searchWord:t.toLowerCase()})}},{key:"render",value:function(){var t,e=this,n={id:this.state.editorID,title:"",content:"",created:(new Date).toJSON()},i=Object(s.a)(this.state.notes);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.id===this.state.editorID){n=JSON.parse(JSON.stringify(o));break}}}catch(c){i.e(c)}finally{i.f()}var r,a=this.state.editorID?"noteeditor":"noteslist";return"noteslist"===a?r=Object(h.jsx)(j,{notes:this.state.notes,sortBy:this.state.sortBy,searchWord:this.state.searchWord,openNote:function(t){return e.openNote(t)},createNote:function(){return e.createNote()},deleteNote:function(t){return e.deleteNote(t)}}):"noteeditor"===a&&(r=Object(h.jsx)(f,{noteToEdit:n,saveNote:function(t){return e.saveNote(t)}})),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(p,{view:a,searchInputVisible:this.state.searchInputVisible,sortBy:this.state.sortBy,closeEditor:function(){return e.closeEditor()},changeSortBy:function(t){return e.changeSortBy(t)},toggleSearchInput:function(){return e.toggleSearchInput()},updateFilterString:function(t){return e.updateFilterString(t)}}),r]})}}]),n}(l.a.Component);d.a.render(Object(h.jsx)(O,{}),document.getElementById("root"))}},[[9,1,2]]]);
//# sourceMappingURL=main.ebc7bc42.chunk.js.map